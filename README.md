

## What is our project all about?

GitLens is a browser-based Chrome extension that enhances the GitHub development experience using AI. It automatically generates code summaries, pull request (PR) descriptions, and inline comments, making it easier for developers to understand and review code quickly. With multi-language support, including Indian languages like Telugu and Hindi, GitLens improves code accessibility for diverse teams. It visualizes code dependencies, offers a breakdown of AI vs. human-written code, and includes features like AI PR Autofill (automatic PR titles and descriptions), Smart Commit Messages generator, and Code Quality Insights that flag anti-patterns and bad practices. Developers can also use the One-Click Auto Push feature to commit and push changes with AI-generated comments, streamlining the workflow even further. GitLens delivers all this without requiring any heavy IDE setup, making it an efficient and intelligent companion for modern developers 

## Features
![Screenshot 2025-04-09 171402](https://hackmd.io/_uploads/By7JcxNAye.png)


### 🧩Code Summarization (Multi-language Support) – 
This feature automatically generates concise and informative summaries of code segments, highlighting their core functionality, logic, and interdependencies .It supports multiple programming languages and is enhanced with natural language support, allowing summaries to be generated in  languages like Telugu, Hindi, and English etc. By analyzing syntax, structure, and semantics, the tool provides developers with a quick understanding of unfamiliar or complex code without the need for manual review. This greatly enhances onboarding, debugging, and documentation processes while improving overall code readability and maintainability.

![Screenshot 2025-04-09 191021](https://hackmd.io/_uploads/r1qXYxVAJg.png)





![Screenshot 2025-04-09 192451](https://hackmd.io/_uploads/SkUS2gE0Jx.png)

###  🔍 Pull Request (PR) Analysis – 
This feature makes code reviews easier and faster by automatically looking at the changes made in a pull request. It explains in simple terms what was changed, why it was changed, and how it might affect the rest of the project. It also points out important differences, possible problems, and connections to other parts of the code. This helps team members understand the updates quickly, saves review time, and makes teamwork and code quality better.
![Screenshot 2025-04-09 173513](https://hackmd.io/_uploads/r1iIKgVCye.png)




![Screenshot 2025-04-09 173543](https://hackmd.io/_uploads/rJt_txECJx.png)


### 🧠 Dependency Visualization 
This feature provides an intuitive representation of the relationships and dependencies between functions, classes, and modules within the codebase. By visually mapping how different components interact, it enables developers to gain a clear understanding of the architecture and flow of the application.The visualization promotes better design decisions, simplifies debugging, and supports efficient code maintenance.

![Screenshot 2025-04-09 133930](https://hackmd.io/_uploads/rk4cKx4C1x.png)

###  🤖🧑‍💻 AI vs. Human Code Detection 
This feature identifies whether a given piece of code was written by a human developer or generated by an AI model. This helps development teams maintain transparency, assess the reliability  of code, and ensure proper review of AI-generated contributions. 
![Screenshot 2025-04-09 173334](https://hackmd.io/_uploads/S1VjYlN01x.png)

###  💬 Auto comment generator 
This feature helps developers by automatically adding smart, meaningful comments to the code. It understands what functions, classes, and logic blocks are doing and suggests relevant comments right where they're needed. By using AI to analyze the code's behavior, it takes the pressure off manual documentation and keeps comments clear, consistent, and helpful throughout the project.

![Screenshot 2025-04-09 173309](https://hackmd.io/_uploads/SJaTYg4Ayx.png)

## Methodology
 ### 📝Requirement Gathering & Use Case Identification
We started by identifying the needs of people working with GitHub repositories. The key pain points addressed were:

- Difficulty of  understanding unfamiliar code on github repository pages.
-  Time-consuming PR reviews due to manual change tracking, unclear context, and complex multi-file diffs.
-  Lack of visual clarity in function/class relationships and code structure.
- Unclear origin of code (AI-generated vs human).
- Lack of inline comments and structural overviews.(Code Quality)

## ⚙️ 2. Architecture Design

The architecture is split into two main parts:

- **Frontend (Chrome Extension):**  
  Handles UI rendering, GitHub page scraping, and user interactions.
- **Backend (Flask Server):**  
  Powered by `LLAMA 3.3-70b Versatile` via **LangChain**. Responsible for generating summaries, PR descriptions, code comments, AI detection, dependency Visualization .

---

## 🧱 3. Module Breakdown
### ✅ Frontend UI Components *(JavaScript)*
- `gitlens-panel.html ` — HTML layout for the GitLens interface with feature cards and dynamic detail views.
- `main.css` — Dark-themed GitHub-style UI with responsive layout, modals, syntax highlighting, and loading animations.	

### ✅ Frontend Components *(JavaScript)*

- `contentScripts.js` — Extracts repository name, description, and content from GitHub.
- `injectcomment.js` — Sends source code to backend for comment generation and displays them.
- `injectcodesumm.js` — Supports multilingual (English, Hindi, Telugu) code analysis.
- `aihuman.js` — Detects AI vs. human-written code and displays progress indicator.
- `dependency.js` — Visualizes function and class-level dependencies in an interactive UI.
- `pr_analysis.js` — Fetches recent PRs and provides AI-based analysis.
- `gitlens-panel.js` — Manages UI layout and dynamically loads feature-specific scripts.

---

### ✅ Backend Components *(Flask - app.py)*

- **LLM Integration:**  
  Integrated with `llama-3.3-70b-versatile` using `LangChain` and `ChatGroq`.
- **API Endpoints:**
  - `/generate_summary` — Returns HTML-formatted repository summary.
  - `/generate_comments` — Generates inline comments for code.
  - `/generate_pr_details` — Provides AI-generated PR title & description.
  - `/detect_ai_code` — Calculates AI vs. human code contribution percentage.
  - `/analyze_dependencies` — Analyzes function/class call relationships.
  - `/analyze_code` — Combines static analysis + natural language summary.
  - `/get_latest_pr_data` & `/pr_analysis` — Scrape PR data and perform deep analysis.

---

## 🧠 4. LLM Prompt Engineering

Each endpoint constructs a **precisely engineered prompt** that includes:

- Context: Repository name, description, and full code or diff.
- Task Instruction: Summary generation, PR Analysis,dependency Visualization or comment writing.
- Format Constraints: HTML, or JSON structured outputs.
- Language Translation: Uses `translate_text()` to support Telugu, Hindi, and other languages.

---

## 🧪 5. Testing 

- Tested on various real-world GitHub repositories.
- Includes error handling for:
  - Missing or malformed inputs
  - Network/API failures
  - Model-related exceptions
- Enhanced UX with:
  - Loading animations
  - Meaningful modals
  - Error messages in UI

## WorkFlow Diagram

![GITLENS](https://hackmd.io/_uploads/HJl0BJVA1l.jpg)

## 🛠️ Techniques Used

### 🔮 1. Large Language Model Integration (LLM)

- **Model:** `LLAMA 3.3-70b Versatile`  (Open Source Model)
- **Framework:** LangChain with `ChatGroq` backend for prompt routing and token optimization.

**Usage:**
- Code summarization   
- AI vs Human detection logic  
- PR description generation  
- Dependency parsing and explanation  
- Inline code comment generation  

---

### 📦 2. Frontend Extension Development

- **Platform:** Chrome Extension (Manifest v3)  
- **Technologies Used:** JavaScript, HTML, CSS  

**Frontend Libraries/Methods:**
- DOM manipulation for injecting modals and UI views  
- GitHub DOM parsing for extracting repository info  
- `chrome.tabs` and `chrome.runtime` APIs for background messaging  
- Modal windows for real-time feedback and result display  
- Language selection dropdowns for multilingual analysis  

---

### 🔄 3. Backend API Design

- **Framework:** Flask  

**Functionality:**
- RESTful API endpoints to interact with the extension  
- JSON-based request/response structure  
- Backend logic to preprocess inputs, invoke LLM, and post-process responses  
  

---

### 🧑‍💻 4. Code Parsing & Preprocessing

**Static Code Extraction:**  
- Used content script selectors to capture visible code segments directly from GitHub’s DOM structure.

**Dependency Mapping:**  
- Lightweight regex parsing to detect function and class relationships and feeding data to the LLM.

**PR Analysis:**  
- PR numbers and diffs are extracted using GitHub URL pattern parsing and Scraping data using bs4 library to collect PR metadata and changes.

---

### 🌐 5. Multilingual Support

- `translate_text()` function adapts prompt responses into multiple Indian languages (Telugu, Hindi, etc.)  
- Language selection from the UI is passed as metadata to the backend to instruct the LLM for translation-aware summarization.

---

### 📊 6. AI vs Human Detection Logic

- Code token analysis and style heuristics are embedded in LLM prompts  
- LLM returns weighted confidence scores for AI vs human-originated code  
- Progress ring visualized via animated SVG in the frontend (`aihuman.js`)

---

### 🧪 7. UI/UX Design 

- Custom dark mode styling to match GitHub’s native aesthetic  
- Integrated loading indicators, error modals, and result cards for better feedback  
- Smooth modal transitions for code comments, summaries, and PR analysis panels  


 ## 🚀 Future Work

### 🔁 One-Click Auto Push
Auto-commits and pushes changes after adding AI-generated comments, reducing manual effort and improving developer productivity.

### 🌐 More Indian Languages
Supports **multiple Indian languages**  in code summaries to enhance accessibility and inclusivity.

### ✏️ Smart Commit Messages
Automatically generates consistent and meaningful commit messages based on code diffs, promoting better version control and collaboration.

### 🤖 AI PR Autofill
Auto-generates pull request titles and detailed descriptions using full context of the changes, reducing manual documentation work.

### 🧠 Code Quality Insights
Detects and highlights bad practices or anti-patterns using AI, helping maintain high-quality, clean, and reliable codebases.
